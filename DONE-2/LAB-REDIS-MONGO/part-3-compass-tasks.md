# –ó–∞–¥–∞–Ω–∏—è –¥–ª—è MongoDB Compass

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
1. –û—Ç–∫—Ä—ã—Ç—å MongoDB Compass
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è: `mongodb://student:password@localhost:27017/`
3. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `shop`

## –ó–∞–¥–∞–Ω–∏–µ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é
- Database Name: `shop`
- Collection Name: `orders`

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
–ù–∞–∂–∞—Ç—å **INSERT DOCUMENT** –∏ –¥–æ–±–∞–≤–∏—Ç—å:

**–ó–∞–∫–∞–∑ 1:**
```json
{
  "orderId": 1001,
  "customer": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  "items": [
    {"product": "–ù–æ—É—Ç–±—É–∫", "quantity": 1, "price": 50000},
    {"product": "–ú—ã—à—å", "quantity": 2, "price": 1500}
  ],
  "total": 53000,
  "status": "delivered",
  "date": {"$date": "2024-12-02T10:00:00Z"}
}
```

**–ó–∞–∫–∞–∑ 2:**
```json
{
  "orderId": 1002,
  "customer": "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞",
  "items": [
    {"product": "–¢–µ–ª–µ—Ñ–æ–Ω", "quantity": 1, "price": 30000}
  ],
  "total": 30000,
  "status": "pending",
  "date": {"$date": "2024-12-02T11:00:00Z"}
}
```

**–ó–∞–∫–∞–∑ 3:**
```json
{
  "orderId": 1003,
  "customer": "–ü–µ—Ç—Ä –ò–≤–∞–Ω–æ–≤",
  "items": [
    {"product": "–ü–ª–∞–Ω—à–µ—Ç", "quantity": 1, "price": 25000},
    {"product": "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞", "quantity": 1, "price": 3000}
  ],
  "total": 28000,
  "status": "processing",
  "date": {"$date": "2024-12-02T12:00:00Z"}
}
```

## –ó–∞–¥–∞–Ω–∏–µ 2: –ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ Filter

### –ó–∞–¥–∞—á–∞ 1: –ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞
**Filter:** `{"customer": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"}`

### –ó–∞–¥–∞—á–∞ 2: –ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É
**Filter:** `{"status": "pending"}`

### –ó–∞–¥–∞—á–∞ 3: –ù–∞–π—Ç–∏ –¥–æ—Ä–æ–≥–∏–µ –∑–∞–∫–∞–∑—ã
**Filter:** `{"total": {"$gt": 40000}}`

### –ó–∞–¥–∞—á–∞ 4: –ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ç–æ–≤–∞—Ä–æ–º
**Filter:** `{"items.product": "–ù–æ—É—Ç–±—É–∫"}`

### –ó–∞–¥–∞—á–∞ 5: –ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑—ã –∑–∞ –ø–µ—Ä–∏–æ–¥
**Filter:** `{"date": {"$gte": {"$date": "2024-12-02T10:00:00Z"}}}`

## –ó–∞–¥–∞–Ω–∏–µ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –ó–∞–¥–∞—á–∞ 1: –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
1. **Filter:** `{"orderId": 1002}`
2. –ù–∞–π—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç ‚Üí **Edit Document**
3. –ò–∑–º–µ–Ω–∏—Ç—å: `"status": "shipped"`
4. –ù–∞–∂–∞—Ç—å **UPDATE**

### –ó–∞–¥–∞—á–∞ 2: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –¥–æ—Å—Ç–∞–≤–∫–∏
1. **Filter:** `{"status": "delivered"}`
2. **Edit Document** ‚Üí –¥–æ–±–∞–≤–∏—Ç—å:
   ```json
   "deliveryDate": {"$date": "2024-12-01T15:00:00Z"}
   ```

### –ó–∞–¥–∞—á–∞ 3: –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—É —Ç–æ–≤–∞—Ä–∞
1. –ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑ —Å "–ú—ã—à—å"
2. –ò–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É –º—ã—à–∏ –Ω–∞ 1700

## –ó–∞–¥–∞–Ω–∏–µ 4: –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Aggregations**

### –ó–∞–¥–∞—á–∞ 1: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
```json
[
  {
    "$group": {
      "_id": "$status",
      "count": {"$sum": 1},
      "totalAmount": {"$sum": "$total"}
    }
  }
]
```

### –ó–∞–¥–∞—á–∞ 2: –°—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞
```json
[
  {
    "$group": {
      "_id": null,
      "avgTotal": {"$avg": "$total"},
      "maxTotal": {"$max": "$total"},
      "minTotal": {"$min": "$total"}
    }
  }
]
```

### –ó–∞–¥–∞—á–∞ 3: –¢–æ–ø –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —Å—É–º–º–µ
```json
[
  {
    "$group": {
      "_id": "$customer",
      "totalAmount": {"$sum": "$total"},
      "orderCount": {"$sum": 1}
    }
  },
  {
    "$sort": {"totalAmount": -1}
  }
]
```

### –ó–∞–¥–∞—á–∞ 4: –ê–Ω–∞–ª–∏–∑ —Ç–æ–≤–∞—Ä–æ–≤
```json
[
  {"$unwind": "$items"},
  {
    "$group": {
      "_id": "$items.product",
      "totalQuantity": {"$sum": "$items.quantity"},
      "totalRevenue": {"$sum": {"$multiply": ["$items.quantity", "$items.price"]}}
    }
  },
  {"$sort": {"totalRevenue": -1}}
]
```

## –ó–∞–¥–∞–Ω–∏–µ 5: –†–∞–±–æ—Ç–∞ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏

### –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Indexes**

### –ó–∞–¥–∞—á–∞ 1: –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –ø–æ –∫–ª–∏–µ–Ω—Ç—É
- **CREATE INDEX**
- Fields: `{"customer": 1}`
- Index Name: `customer_idx`

### –ó–∞–¥–∞—á–∞ 2: –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å
- Fields: `{"status": 1, "total": -1}`
- Index Name: `status_total_idx`

### –ó–∞–¥–∞—á–∞ 3: –¢–µ–∫—Å—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å
- Fields: `{"customer": "text", "items.product": "text"}`
- Index Name: `text_search_idx`

## üèÜ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 6: –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é —Ç–æ–≤–∞—Ä–æ–≤
```json
{
  "sku": "NB001",
  "name": "–ù–æ—É—Ç–±—É–∫ Gaming",
  "category": "Electronics",
  "price": 75000,
  "stock": 15,
  "specs": {
    "cpu": "Intel i7",
    "ram": "16GB",
    "storage": "512GB SSD"
  }
}
```